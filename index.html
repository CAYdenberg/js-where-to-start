<html>
    <head>
        <link rel="stylesheet" href="./bower_components/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="./bower_components/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="./bower_components/reveal.js/css/theme/night.css">
        <link rel="stylesheet" href="./highlight.js/styles/dracula.css">
        <link rel="stylesheet" href="./style.css">
    </head>

    <body>
        <div class="reveal">
            <div class="slides">

<section class="title-slide">
  <h1>JavaScript: Where to start</h1>

  <div class="half text-left">
    <h3>Casey A. Ydenberg</h3>
    <p><i class="fa fa-twitter"></i> @CAYdenberg</p>
    <p><i class="fa fa-github"></i> CAYdenberg</p>
    <p><i class="fa fa-envelope-o"></i> ydenberg@gmail.com</p>
    <p><i class="fa fa-globe"></i> caseyy.org</p>
    <img src="./images/TruHome-logo-colour.svg" style="width: 45%" />
    <img src="./images/ejs_400x400.png"  style="width: 45%; border-radius: 50%" />
  </div>

  <div class="half fragment">
    <img src="./images/science.jpg" />
    <footer class="text-left"><small>Cytoskeleton 72(7):349-61</small></footer>
  </div>
</section>

<section>
  <h2>Why you might want to learn JavaScript</h2>
  <ol>
    <li class="fragment">You might not have a choice</li>
    <li class="fragment">
      "Write once, run anywhere"
      <div>
        <img src="./images/browsers.png" style="width: 25%" />
        <img src="./images/node.png" style="width: 25%" />
      </div>
    </li>
    <li class="fragment">"Culture of openness" (much like Python)</li>
    <li class="fragment">
      Straightforward package management system and large public repositories
      <div>
        <img src="./images/npm.svg" style="width: 25%" />
      </div>
    </li>
  </ol>
</section>

<section>
  <h2>Why you might not want to learn JavaScript</h2>
  <ol>
    <li class="fragment">
      <strong>What is JavaScript, anyway?</strong> Specification: ECMA script
      <img src="./images/browsers.png" />
    </li>
    <li class="fragment">Compile/build pipelines</li>
    <li class="fragment">
      "JavaScript fatigue"
    </li>
    <img class="fragment" src="./images/frameworks.png"  />
  </ol>
</section>

<section>
  <h2>A very brief introduction</h2>
  <div>
    <div class="half">
      <img src="./images/Brendan_Eich.jpg" />
    </div>
    <div class="half">
      <img src="./images/hypercard-home-card.png" />
    </div>
  </div>
  <p><span class="strikethrough">Live</span><strong>Java</strong>Script</p>
</section>

<section>
  <h2>Types (sort of)</h2>
  <div class="one-third text-left">
    <ul>
      <li>Boolean</li>
      <li>Number</li>
      <li>String</li>
      <li>Regular Expression</li>
      <li>Array</li>
      <li>Function</li>
      <li>Object</li>
    </ul>
  </div>
  <div class="two-thirds">
    <pre><code class="javascript" style="max-height: 400px">
var myVar = 2 + 2
myVar = "four"
myVar
// "four"

true + true
// 2

"lol" + "lol"
// "lollol"

"lol" + 2
// "lol2"

"lol" - 2
// NaN

var myArray = ["lol", 2, false]
myArray[0]
// "lol"

var myArray = Array(2)

Array(16).join("lol" - 2) + "Batman!"
// "NaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNNaNBatman!"

function add2(num) {
  return num + 2
}
add2(2)
// 4

var add2 = function(num) {
  return num + 2
}

var myFunc = add2
var myFuncResult = add2(2)
    </code></pre>
  </div>
</section>

<section>
  <h2>What is REST?</h2>
  <h3>A request to URL for <em>data</em> instead of a document</h3>
  <h3>Uses HTTP methods (GET, POST, PUT, DELETE)</h3>
  <h3>Stateless</h3>
  <h3>Data is usually exchanged as JSON</h3>
  <p>Spec not implementation:
    <a href="https://darksky.net/dev/docs">documentation tends to be easy to understand</a>
  </p>
</section>

<section>
  <div class="half text-left">
    <blockquote>
      Be conservative in what you send, be liberal in what you accept
      <footer>-- The Robustness principle</footer>
    </blockquote>
    <img src="./images/xhtml-error.png" />
  </div>
  <div class="half">
    <pre><code class="javascript">
{
  "latitude": 53.5555501,
  "longitude": -113.7741251,
  "timezone": "America/Edmonton",
  "currently": {
  "time": 1508093970,
  "summary": "Clear",
  "icon": "clear-day",
  "precipIntensity": 0.0001,
  "precipProbability": 0.02,
  "precipType": "rain",
  "temperature": 52.89,
  "apparentTemperature": 52.89,
  "dewPoint": 34.88,
  "humidity": 0.5,
  "pressure": 1013.57,
  "windSpeed": 9.92,
  "windGust": 16.33,
  "windBearing": 214,
  "cloudCover": 0.18,
  "uvIndex": 2,
  "visibility": 10,
  "ozone": 299.59
  "hourly": {
    "summary": "Partly cloudy starting later this afternoon.",
    "icon": "partly-cloudy-night",
    "data": [
      {
        "time": 1508090400,
        "summary": "Clear",
        "icon": "clear-day",
        "precipIntensity": 0.0001,
        "precipProbability": 0.02,
        "precipType": "rain",
        "temperature": 49.44,
        "apparentTemperature": 45.57,
        "dewPoint": 33.24,
        "humidity": 0.53,
        "pressure": 1015.06,
        "windSpeed": 9.35,
      ...
    </code></pre>
  </div>
</section>

<section>
  <h2>Objects linked to other objects</h2>
  <p>JavaScript does not have classes!</p>
  <div class="half">
    <pre><code class="javascript">
var animal = {
  legs: 4,
  moving: false
  run: function() {
    this.moving = true
    return true
  }
}
animal.name = "Bob"
    </code></pre>
  </div>
  <div class="half fragment">
    <pre><code class="javascript">
var barnacle = Object.create(animal)
barnacle.legs = 0
barnacle.run = function() {
  return false
}
barnacle.name
// "Bob"
    </code></pre>
  </div>
</section>

<section>
  <h2>Callbacks and Closures</h2>

  <h3>In Python:</h3>
  <pre><code class="python">
conn = httplib.HTTPConnection("http://a/resource/somewhere")
conn.request("POST")
response = conn.getresponse()
  </code></pre>

  <div class="fragment">
    <h3>JavaScript:</h3>
    <pre><code class="javascript">
http.get('http://a/resource/somewhere', function(res) {
  // deal with response
});
    </code></pre>

  <div class="fragment">
    <h3>Example of a closure:</h3>
    <pre><code class="javascript">
var begin = Date.now()
http.get('http://a/resource/somewhere', function(res) {
  var end = Date.now()
  console.log(end - begin)
});
    </code></pre>
  </div>
</section>

<section>
  <h2>Example App: Simple GET Weather</h2>
  <div class="two-thirds">
  </div>
  <div class="one-third">
    <button type="button" id="startRequest">Start Request</button>
    <div id="weather"></div>
  </div>
  <div class="two-thirds">
    <pre><code class="javascript">
function makeRequest(callback) {
  var requestOptions = {
    url: 'http://localhost:3000/yeg-weather',
    method: 'GET',
    success: callback
  }
  $.ajax(requestOptions)
}

document.addEventListener('DOMContentLoaded', function() {
  // When the button is clicked ...
  document.getElementById('startRequest').addEventListener('click', function() {
    // get the data ...
    makeRequest(function(response) {
      // and put the temperature on the page
      var currently = response.currently
      var itIs = 'It is ' + currently.summary + ' and the temperature is ' + currently.temperature + ' C'
      document.getElementById('weather').innerHTML = itIs
    })
  })
})
    </code></pre>
</section>

<section>
  <h2>Example App: GET and POST chats</h2>
  <div class="two-thirds">
  </div>
  <div class="one-third">
    <ul id="chats"></ul>
    <form id="new-chat">
      <input id="new-chat-input" name="new-chat" />
      <button type="submit" id="new-chat-submit">Send</button>
    </form>
  </div>
  <div class="two-thirds">
    <pre><code class="javascript" style="max-height: 400px">

function sendChat(payload, callback) {
  var requestOptions = {
    url: 'http://localhost:3000/chat',
    contentType: 'application/json',
    method: 'POST',
    data: JSON.stringify(payload),
    success: callback
  }
  $.ajax(requestOptions)
}

function getChats(callback) {
  var requestOptions = {
    url: 'http://localhost:3000/chat',
    contentType: 'application/json',
    method: 'GET',
    success: callback
  }
  $.ajax(requestOptions)
}

// translate the an array of chats (retrieved from API)
// into a list on the page
function renderChats(chats) {
  var chatsElem = document.getElementById('chats')
  chatsElem.innerHTML = ''
  chats.forEach(function(chat) {
    var newElem = document.createElement('li')
    var textNode = document.createTextNode(chat)
    newElem.appendChild(textNode)
    document.getElementById('chats').appendChild(newElem)
  })
}

document.addEventListener('DOMContentLoaded', function() {
  // get chats from API and render them
  getChats(renderChats)

  setInterval(function() {
    getChats(renderChats)
  }, 1000)

  // when the button is clicked ...
  document.getElementById('new-chat').addEventListener('submit', function(e) {
    e.preventDefault()
    // get the contents of the text box
    var input = document.getElementById('new-chat-input')
    var text = input.value
    // send it to the API
    sendChat({chat: text}, function(res) {
      // rerender the chats
      input.value = ''
      renderChats(res)
    })
  })
})
      </code></pre>
    </div>
</section>

<section style="text-align: center">
  <h2>Where to go next</h2>
  <div class="half">
    <img src="./images/programming-js-applications.jpg" alt="Programming JavaScript applications by Eric Elliot" />
  </div>
  <div class="half">
    <img src="./images/you-dont-know-js.jpg" alt="You Don't Know JavaScript by Kyle Simpson" />
  </div>
</section>

            </div>
        </div>

        <script src="./bower_components/reveal.js/js/reveal.js"></script>
        <script src="./bower_components/jquery/dist/jquery.min.js"></script>
        <script src="./highlight.js/highlight.pack.js"></script>
        <script>
            Reveal.initialize({
              center: false,
              progress: false,
              history: true
            });
            hljs.initHighlightingOnLoad();
        </script>
        <script src="./app1.js"></script>
        <script src="./app2.js"></script>
    </body>
</html>
